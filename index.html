
<p id="encrypted">encrypted</p>
<iframe width="100%" hight="100%" id="decrypted">decrypted</iframe>


<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js">
</script>


<script>

  let vid = window.location.search;
  let url = vid.replace("?vid=", "");
  console.log(url);

var Zugangscode = prompt("Zugangscode eigeben", "");

function encrypt(message = '', key = Zugangscode){
    var message = CryptoJS.AES.encrypt(message, key);
    return message.toString();
}
function decrypt(message = '', key = Zugangscode){
    var code = CryptoJS.AES.decrypt(message, key);
    var decryptedMessage = code.toString(CryptoJS.enc.Utf8);

    return decryptedMessage;
}


var fen = decrypt(url)

document.getElementById("encrypted").innerHTML = Zugangscode
document.getElementById("decrypted").src = fen
</script>
