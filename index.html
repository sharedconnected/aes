<html>
  <head>
  </head>

  <body style="background-color: black; color: lime">

<p id="infotext">Kein Zugangscode Angegeben</p>
<iframe id="encryptedMedia" scrolling="no" allowfullscreen="" width="100%" height="630" frameborder="0">video</iframe>


<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"></script>
<script>
async function getlinks(name = ""){
    const response = await fetch('https://gist.githubusercontent.com/FlipTip/8e3cda199f75d8b2b92954fd61cafa6b/raw/ea05afa449c2957d8c44d7f625f59d88cea36406/links.json');
    const myJSON = await response.json();

    var url = myJSON[name];

    var video = decrypt(url);
    document.getElementById("encryptedMedia").src = video
}

const name = prompt("Name vom Film eigeben", "Spiderman");
var Zugangscode = prompt("Zugangscode eigeben", "");

function decrypt(message = '', key = Zugangscode){
    var code = CryptoJS.AES.decrypt(message, key);
    var decryptedMessage = code.toString(CryptoJS.enc.Utf8);

    return decryptedMessage;
}

var url = getlinks(name)

document.getElementById("infotext").innerHTML = "Angegebener Zugangscode: " + Zugangscode

</script>
    
<p>FÃ¼r ein besseres Erlebnis AdBlocker benutzen</p>

</body>
</html>
